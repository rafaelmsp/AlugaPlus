"use strict";(self.webpackChunkaluga_crm_frontend=self.webpackChunkaluga_crm_frontend||[]).push([[225],{3225:(k,d,s)=>{s.r(d),s.d(d,{MANUTENCOES_ROUTES:()=>h});var t=s(4438),i=s(177),u=s(1569);const f=(n,l,e)=>({"bg-amber-500/10 text-amber-400":n,"bg-emerald-500/10 text-emerald-400":l,"bg-rose-500/10 text-rose-400":e});function v(n,l){if(1&n&&(t.j41(0,"tr",10)(1,"td",8),t.EFF(2),t.k0s(),t.j41(3,"td",8),t.EFF(4),t.k0s(),t.j41(5,"td",8),t.EFF(6),t.k0s(),t.j41(7,"td",8),t.EFF(8),t.nI1(9,"currency"),t.k0s(),t.j41(10,"td",8)(11,"span",11),t.EFF(12),t.k0s()(),t.j41(13,"td",8),t.EFF(14),t.nI1(15,"date"),t.k0s()()),2&n){const e=l.$implicit;t.R7$(2),t.JRh(e.imovel),t.R7$(2),t.JRh(e.descricao),t.R7$(2),t.JRh(e.responsavel||"Nao definido"),t.R7$(2),t.JRh(t.ii3(9,7,e.custo,"BRL","symbol","1.0-2")),t.R7$(3),t.Y8G("ngClass",t.sMw(15,f,"EM_ANDAMENTO"===e.status,"CONCLUIDA"===e.status,"PENDENTE"===e.status)),t.R7$(),t.SpI(" ",e.status," "),t.R7$(2),t.JRh(t.i5U(15,12,e.dataSolicitacao,"shortDate"))}}let F=(()=>{class n{constructor(){this.manutencoes=(0,t.vPA)([{id:1,imovel:"Av. Brasil, 900 - Galpao",descricao:"Reparo em portao automatico",responsavel:"Equipe TechFix",custo:850,status:"EM_ANDAMENTO",dataSolicitacao:(new Date).toISOString()}])}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-manutencao-list"]],standalone:!0,features:[t.aNF],decls:27,vars:1,consts:[[1,"space-y-6"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"text-2xl","font-semibold","text-primary"],[1,"text-sm","text-gray-400"],["routerLink","nova",1,"btn-primary","text-sm","w-full","md:w-auto","text-center"],[1,"card","overflow-x-auto"],[1,"min-w-full","text-left","text-sm"],[1,"text-xs","uppercase","text-gray-400","border-b","border-primary/20"],[1,"py-2"],["class","border-b border-primary/10",4,"ngFor","ngForOf"],[1,"border-b","border-primary/10"],[1,"px-2","py-1","rounded-full","text-xs",3,"ngClass"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),t.EFF(4,"Ordens de manutencao"),t.k0s(),t.j41(5,"p",3),t.EFF(6,"Acompanhe status, custos e evidencias."),t.k0s()(),t.j41(7,"a",4),t.EFF(8,"Nova manutencao"),t.k0s()(),t.j41(9,"div",5)(10,"table",6)(11,"thead",7)(12,"tr")(13,"th",8),t.EFF(14,"Imovel"),t.k0s(),t.j41(15,"th",8),t.EFF(16,"Descricao"),t.k0s(),t.j41(17,"th",8),t.EFF(18,"Responsavel"),t.k0s(),t.j41(19,"th",8),t.EFF(20,"Custo"),t.k0s(),t.j41(21,"th",8),t.EFF(22,"Status"),t.k0s(),t.j41(23,"th",8),t.EFF(24,"Data"),t.k0s()()(),t.j41(25,"tbody"),t.DNE(26,v,16,19,"tr",9),t.k0s()()()()),2&o&&(t.R7$(26),t.Y8G("ngForOf",a.manutencoes()))},dependencies:[i.MD,i.YU,i.Sq,i.oe,i.vh,u.Wk],encapsulation:2})}}return n})();var r=s(9417),c=s(8696);function g(n,l){if(1&n){const e=t.RV6();t.j41(0,"ngx-dropzone-preview",23),t.bIt("removed",function(){const a=t.eBV(e).$implicit,m=t.XpG();return t.Njj(m.onRemove(a))}),t.j41(1,"ngx-dropzone-label"),t.EFF(2),t.k0s()()}if(2&n){const e=l.$implicit;t.Y8G("removable",!0),t.R7$(2),t.JRh(e.name)}}function b(n,l){1&n&&t.nrm(0,"img",24),2&n&&t.Y8G("src",l.$implicit,t.B4B)}let p=(()=>{class n{constructor(){this.fb=new r.ok,this.router=(0,t.WQX)(u.Ix),this.form=this.fb.nonNullable.group({imovelId:["",r.k0.required],contratoId:[""],dataSolicitacao:["",r.k0.required],descricao:["",r.k0.required],responsavel:[""],custo:[0],status:["PENDENTE",r.k0.required]}),this.files=(0,t.vPA)([]),this.previews=(0,t.vPA)([])}onSelect(e){const o=[...this.files(),...e.addedFiles];this.files.set(o),o.forEach(a=>this.createPreview(a))}onRemove(e){this.files.set(this.files().filter(o=>o!==e)),this.previews.set(this.previews().filter(o=>!o.includes(e.name)))}save(){this.form.invalid?this.form.markAllAsTouched():this.router.navigate(["/manutencoes"])}createPreview(e){const o=new FileReader;o.onload=()=>this.previews.set([...this.previews(),o.result]),o.readAsDataURL(e)}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-manutencao-form"]],standalone:!0,features:[t.aNF],decls:52,vars:5,consts:[[1,"max-w-3xl","mx-auto","card"],[1,"text-2xl","font-semibold","text-primary","mb-6"],[1,"grid","md:grid-cols-2","gap-4",3,"formGroup"],[1,"text-sm","text-gray-400","block","mb-1"],["formControlName","imovelId",1,"input-control"],["formControlName","contratoId",1,"input-control"],["type","date","formControlName","dataSolicitacao",1,"input-control"],["formControlName","responsavel",1,"input-control"],["type","number","formControlName","custo",1,"input-control"],["formControlName","status",1,"input-control"],["value","PENDENTE"],["value","EM_ANDAMENTO"],["value","CONCLUIDA"],[1,"md:col-span-2"],["formControlName","descricao","rows","4",1,"input-control"],[1,"text-sm","text-gray-400","block","mb-3"],[1,"bg-neutral","border","border-dashed","border-primary/40",3,"change","multiple"],[3,"removable","removed",4,"ngFor","ngForOf"],[1,"md:col-span-2","grid","grid-cols-2","md:grid-cols-4","gap-3"],["alt","foto manutencao","class","rounded-lg border border-primary/20",3,"src",4,"ngFor","ngForOf"],[1,"md:col-span-2","flex","justify-end","gap-3"],["type","button",1,"btn-outline",3,"click"],["type","button",1,"btn-primary",3,"click","disabled"],[3,"removed","removable"],["alt","foto manutencao",1,"rounded-lg","border","border-primary/20",3,"src"]],template:function(o,a){1&o&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2,"Cadastrar manutencao"),t.k0s(),t.j41(3,"form",2)(4,"div")(5,"label",3),t.EFF(6,"Imovel"),t.k0s(),t.nrm(7,"input",4),t.k0s(),t.j41(8,"div")(9,"label",3),t.EFF(10,"Contrato"),t.k0s(),t.nrm(11,"input",5),t.k0s(),t.j41(12,"div")(13,"label",3),t.EFF(14,"Data solicitacao"),t.k0s(),t.nrm(15,"input",6),t.k0s(),t.j41(16,"div")(17,"label",3),t.EFF(18,"Responsavel"),t.k0s(),t.nrm(19,"input",7),t.k0s(),t.j41(20,"div")(21,"label",3),t.EFF(22,"Custo estimado"),t.k0s(),t.nrm(23,"input",8),t.k0s(),t.j41(24,"div")(25,"label",3),t.EFF(26,"Status"),t.k0s(),t.j41(27,"select",9)(28,"option",10),t.EFF(29,"Pendente"),t.k0s(),t.j41(30,"option",11),t.EFF(31,"Em andamento"),t.k0s(),t.j41(32,"option",12),t.EFF(33,"Concluida"),t.k0s()()(),t.j41(34,"div",13)(35,"label",3),t.EFF(36,"Descricao"),t.k0s(),t.nrm(37,"textarea",14),t.k0s(),t.j41(38,"div",13)(39,"label",15),t.EFF(40,"Fotos"),t.k0s(),t.j41(41,"ngx-dropzone",16),t.bIt("change",function(E){return a.onSelect(E)}),t.j41(42,"ngx-dropzone-label"),t.EFF(43," Arraste as imagens aqui ou clique para enviar. "),t.k0s(),t.DNE(44,g,3,2,"ngx-dropzone-preview",17),t.k0s()(),t.j41(45,"div",18),t.DNE(46,b,1,1,"img",19),t.k0s(),t.j41(47,"div",20)(48,"button",21),t.bIt("click",function(){return a.router.navigate(["/manutencoes"])}),t.EFF(49,"Cancelar"),t.k0s(),t.j41(50,"button",22),t.bIt("click",function(){return a.save()}),t.EFF(51,"Salvar"),t.k0s()()()()),2&o&&(t.R7$(3),t.Y8G("formGroup",a.form),t.R7$(38),t.Y8G("multiple",!0),t.R7$(3),t.Y8G("ngForOf",a.files()),t.R7$(2),t.Y8G("ngForOf",a.previews()),t.R7$(4),t.Y8G("disabled",a.form.invalid))},dependencies:[i.MD,i.Sq,r.X1,r.qT,r.xH,r.y7,r.me,r.Q0,r.wz,r.BC,r.cb,r.j4,r.JD,c.Fg,c.s3,c.Gt,c.YS],styles:[".input-control[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border-width:1px;border-color:#6366f14d;--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1));padding:.5rem .75rem}.input-control[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity, 1)) }"]})}}return n})();const h=[{path:"",component:F},{path:"nova",component:p},{path:"editar/:id",component:p}]}}]);