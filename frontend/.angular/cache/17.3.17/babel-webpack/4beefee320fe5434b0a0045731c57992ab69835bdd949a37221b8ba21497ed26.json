{"ast":null,"code":"import { inject, signal } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { NgxDropzoneModule } from 'ngx-dropzone';\nimport { NgxExtendedPdfViewerModule } from 'ngx-extended-pdf-viewer';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"ngx-dropzone\";\nimport * as i4 from \"ngx-extended-pdf-viewer\";\nfunction ContratoFormComponent_ngx_dropzone_preview_46_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ngx-dropzone-preview\", 23);\n    i0.ɵɵlistener(\"removed\", function ContratoFormComponent_ngx_dropzone_preview_46_Template_ngx_dropzone_preview_removed_0_listener() {\n      const file_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onRemove(file_r2));\n    });\n    i0.ɵɵelementStart(1, \"ngx-dropzone-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const file_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"removable\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(file_r2.name);\n  }\n}\nfunction ContratoFormComponent_div_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵelement(1, \"ngx-extended-pdf-viewer\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", ctx_r2.previewUrl());\n  }\n}\nexport let ContratoFormComponent = /*#__PURE__*/(() => {\n  class ContratoFormComponent {\n    constructor() {\n      this.fb = new FormBuilder();\n      this.router = inject(Router);\n      this.form = this.fb.nonNullable.group({\n        imovel: ['', Validators.required],\n        inquilino: ['', Validators.required],\n        dataInicio: ['', Validators.required],\n        dataFim: [''],\n        valorMensal: [0, Validators.required],\n        status: ['PENDENTE', Validators.required],\n        observacao: ['']\n      });\n      this.files = signal([]);\n      this.previewUrl = signal(null);\n    }\n    onSelect(event) {\n      const [file] = event.addedFiles;\n      if (file) {\n        this.files.set([file]);\n        const reader = new FileReader();\n        reader.onload = () => this.previewUrl.set(reader.result);\n        reader.readAsDataURL(file);\n      }\n    }\n    onRemove(file) {\n      this.files.set(this.files().filter(f => f !== file));\n      this.previewUrl.set(null);\n    }\n    save() {\n      if (this.form.invalid) {\n        this.form.markAllAsTouched();\n        return;\n      }\n      // TODO: Integrar com API de contratos utilizando ApiService.\n      this.router.navigate(['/contratos']);\n    }\n    static {\n      this.ɵfac = function ContratoFormComponent_Factory(t) {\n        return new (t || ContratoFormComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ContratoFormComponent,\n        selectors: [[\"app-contrato-form\"]],\n        standalone: true,\n        features: [i0.ɵɵStandaloneFeature],\n        decls: 53,\n        vars: 5,\n        consts: [[1, \"max-w-4xl\", \"mx-auto\", \"card\"], [1, \"text-2xl\", \"font-semibold\", \"text-primary\", \"mb-6\"], [1, \"grid\", \"md:grid-cols-2\", \"gap-4\", 3, \"formGroup\"], [1, \"text-sm\", \"text-gray-400\", \"block\", \"mb-1\"], [\"formControlName\", \"imovel\", \"placeholder\", \"Selecione o imovel\", 1, \"input-control\"], [\"formControlName\", \"inquilino\", \"placeholder\", \"Selecione o inquilino\", 1, \"input-control\"], [\"type\", \"date\", \"formControlName\", \"dataInicio\", 1, \"input-control\"], [\"type\", \"date\", \"formControlName\", \"dataFim\", 1, \"input-control\"], [\"type\", \"number\", \"formControlName\", \"valorMensal\", 1, \"input-control\"], [\"formControlName\", \"status\", 1, \"input-control\"], [\"value\", \"PENDENTE\"], [\"value\", \"ATIVO\"], [\"value\", \"ENCERRADO\"], [\"value\", \"RESCINDIDO\"], [1, \"md:col-span-2\"], [\"formControlName\", \"observacao\", \"rows\", \"3\", 1, \"input-control\"], [1, \"text-sm\", \"text-gray-400\", \"block\", \"mb-3\"], [1, \"bg-neutral\", \"border\", \"border-dashed\", \"border-primary/40\", 3, \"change\", \"multiple\"], [3, \"removable\", \"removed\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"md:col-span-2 border border-primary/20 rounded-lg overflow-hidden\", 4, \"ngIf\"], [1, \"md:col-span-2\", \"flex\", \"justify-end\", \"gap-3\", \"pt-4\"], [\"type\", \"button\", 1, \"btn-outline\", 3, \"click\"], [\"type\", \"button\", 1, \"btn-primary\", 3, \"click\", \"disabled\"], [3, \"removed\", \"removable\"], [1, \"md:col-span-2\", \"border\", \"border-primary/20\", \"rounded-lg\", \"overflow-hidden\"], [\"height\", \"400px\", 3, \"src\"]],\n        template: function ContratoFormComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n            i0.ɵɵtext(2, \"Cadastro de contrato\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(3, \"form\", 2)(4, \"div\")(5, \"label\", 3);\n            i0.ɵɵtext(6, \"Imovel\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(7, \"input\", 4);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\")(9, \"label\", 3);\n            i0.ɵɵtext(10, \"Inquilino\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(11, \"input\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(12, \"div\")(13, \"label\", 3);\n            i0.ɵɵtext(14, \"Data de inicio\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(15, \"input\", 6);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\")(17, \"label\", 3);\n            i0.ɵɵtext(18, \"Data de fim\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(19, \"input\", 7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(20, \"div\")(21, \"label\", 3);\n            i0.ɵɵtext(22, \"Valor mensal\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(23, \"input\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"div\")(25, \"label\", 3);\n            i0.ɵɵtext(26, \"Status\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(27, \"select\", 9)(28, \"option\", 10);\n            i0.ɵɵtext(29, \"Pendente\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"option\", 11);\n            i0.ɵɵtext(31, \"Ativo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"option\", 12);\n            i0.ɵɵtext(33, \"Encerrado\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(34, \"option\", 13);\n            i0.ɵɵtext(35, \"Rescindido\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(36, \"div\", 14)(37, \"label\", 3);\n            i0.ɵɵtext(38, \"ObservAcoeses\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(39, \"textarea\", 15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(40, \"div\", 14)(41, \"label\", 16);\n            i0.ɵɵtext(42, \"Upload do contrato (PDF)\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(43, \"ngx-dropzone\", 17);\n            i0.ɵɵlistener(\"change\", function ContratoFormComponent_Template_ngx_dropzone_change_43_listener($event) {\n              return ctx.onSelect($event);\n            });\n            i0.ɵɵelementStart(44, \"ngx-dropzone-label\");\n            i0.ɵɵtext(45, \" Arraste o PDF aqui ou clique para selecionar. \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(46, ContratoFormComponent_ngx_dropzone_preview_46_Template, 3, 2, \"ngx-dropzone-preview\", 18);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵtemplate(47, ContratoFormComponent_div_47_Template, 2, 1, \"div\", 19);\n            i0.ɵɵelementStart(48, \"div\", 20)(49, \"button\", 21);\n            i0.ɵɵlistener(\"click\", function ContratoFormComponent_Template_button_click_49_listener() {\n              return ctx.router.navigate([\"/contratos\"]);\n            });\n            i0.ɵɵtext(50, \"Cancelar\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(51, \"button\", 22);\n            i0.ɵɵlistener(\"click\", function ContratoFormComponent_Template_button_click_51_listener() {\n              return ctx.save();\n            });\n            i0.ɵɵtext(52, \"Salvar\");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"formGroup\", ctx.form);\n            i0.ɵɵadvance(40);\n            i0.ɵɵproperty(\"multiple\", false);\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.files());\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.previewUrl());\n            i0.ɵɵadvance(4);\n            i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n          }\n        },\n        dependencies: [CommonModule, i1.NgForOf, i1.NgIf, ReactiveFormsModule, i2.ɵNgNoValidate, i2.NgSelectOption, i2.ɵNgSelectMultipleOption, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.SelectControlValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, NgxDropzoneModule, i3.NgxDropzoneComponent, i3.NgxDropzoneLabelDirective, i3.NgxDropzonePreviewComponent, NgxExtendedPdfViewerModule, i4.NgxExtendedPdfViewerComponent],\n        styles: [\".input-control[_ngcontent-%COMP%]{width:100%;border-radius:.5rem;border-width:1px;border-color:#6366f14d;--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1));padding:.5rem .75rem}.input-control[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(99 102 241 / var(--tw-ring-opacity, 1)) }ngx-dropzone[_ngcontent-%COMP%]{border-radius:.5rem;padding:1.5rem;text-align:center;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}\"]\n      });\n    }\n  }\n  return ContratoFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}